# Postgres
DATABASE_URL=postgresql+psycopg_async://qr:qrpwd@127.0.0.1:54324/qr

# Auth
AUTH_JWKS_URL=http://localhost:8001/auth/jwks
TOKEN_ISSUER=authentication-svc

# Trails & Points services
TRAILS_BASE_URL=http://localhost:8002
POINTS_BASE_URL=http://localhost:8003

# Short TTL signed QR tokens (HS256)
QR_SECRET=change-this-to-long-random
QR_TTL_SECONDS=120

# --- Redis ---
REDIS_URL=redis://127.0.0.1:6379/0
# Basic rate-limit: N requests per window (per IP) on /checkin/scan
RL_ENABLED=true
RL_WINDOW_SECONDS=60
RL_MAX_REQS=60

# --- NATS ---
# comma-separated list; keep it local for dev
NATS_URLS=nats://127.0.0.1:4222
# Subject to publish when a check-in is recorded
NATS_SUBJECT_CHECKIN=checkins.recorded
# If true, skip HTTP call to points-svc and only publish to NATS
USE_NATS_FOR_POINTS=true
